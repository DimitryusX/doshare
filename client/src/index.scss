@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Light theme - store as `r g b` for Tailwind alpha support */
  --color-fg-default: 15 23 42;         /* #0f172a - slate-900 */
  --color-fg-muted: 100 116 139;        /* #64748b - slate-500 */
  --color-fg-on-emphasis: 255 255 255;  /* #ffffff - White */

  --color-canvas-default: 255 255 255;   /* #ffffff - White */
  --color-canvas-subtle: 248 250 252;    /* #f8fafc - slate-50 */

  --color-border-default: 199 210 254;   /* #c7d2fe - indigo-200 */
  --color-border-muted: 226 232 240;     /* #e2e8f0 - slate-200 */

  --color-accent-fg: 99 102 241;         /* #6366f1 - indigo-500 */
  --color-accent-emphasis: 99 102 241;   /* #6366f1 - indigo-500 */
  --color-accent-emphasis-hover: 79 70 229; /* #4f46e5 - indigo-600 */

  --color-success-emphasis: 34 197 94;   /* #22c55e - green-500 */
  --color-success-emphasis-hover: 22 163 74; /* #16a34a - green-600 */
  --color-success-fg: 22 163 74;         /* #16a34a - green-600 */
  --color-success-subtle: 240 253 244;   /* #f0fdf4 - green-50 */

  --color-danger-fg: 220 38 38;         /* #dc2626 - red-600 */
  --color-danger-subtle: 254 242 242;   /* #fef2f2 - red-50 */

  --color-attention-fg: 217 119 6;      /* #d97706 - amber-600 */
  --color-attention-subtle: 255 251 235; /* #fffbeb - amber-50 */

  --color-neutral-muted: 148 163 184;   /* #94a3b8 - slate-400 */

  --color-header-bg: 255 255 255;        /* #ffffff - White (with gradient overlay) */
  --color-header-fg: 15 23 42;          /* #0f172a - slate-900 */
}

/* Dark theme - applied via .dark class on html */
.dark {
  --color-fg-default: 241 245 249;      /* #f1f5f9 - slate-100 */
  --color-fg-muted: 148 163 184;        /* #94a3b8 - slate-400 */
  --color-fg-on-emphasis: 255 255 255;  /* #ffffff - White */

  --color-canvas-default: 2 6 23;       /* #020617 - slate-950 (almost black) */
  --color-canvas-subtle: 15 23 42;      /* #0f172a - slate-900 */

  --color-border-default: 51 65 85;     /* #334155 - slate-700 */
  --color-border-muted: 30 41 59;       /* #1e293b - slate-800 */

  --color-accent-fg: 129 140 248;       /* #818cf8 - indigo-400 */
  --color-accent-emphasis: 99 102 241;   /* #6366f1 - indigo-500 */
  --color-accent-emphasis-hover: 129 140 248; /* #818cf8 - indigo-400 */

  --color-success-emphasis: 34 197 94;   /* #22c55e - green-500 */
  --color-success-emphasis-hover: 74 222 128; /* #4ade80 - green-400 */
  --color-success-fg: 74 222 128;        /* #4ade80 - green-400 */
  --color-success-subtle: 20 83 45;      /* #14532d - green-900 */

  --color-danger-fg: 248 113 113;       /* #f87171 - red-400 */
  --color-danger-subtle: 69 10 10;      /* #450a0a - red-950 */

  --color-attention-fg: 251 191 36;     /* #fbbf24 - amber-400 */
  --color-attention-subtle: 69 26 3;    /* #451a03 - amber-950 */

  --color-neutral-muted: 100 116 139;    /* #64748b - slate-500 */

  --color-header-bg: 2 6 23;            /* #020617 - slate-950 (almost black) */
  --color-header-fg: 241 245 249;       /* #f1f5f9 - slate-100 */
}

/* Dark theme - also applied via prefers-color-scheme when no manual override */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    --color-fg-default: 241 245 249;      /* #f1f5f9 - slate-100 */
    --color-fg-muted: 148 163 184;        /* #94a3b8 - slate-400 */
    --color-fg-on-emphasis: 255 255 255;  /* #ffffff - White */

    --color-canvas-default: 2 6 23;       /* #020617 - slate-950 (almost black) */
    --color-canvas-subtle: 15 23 42;      /* #0f172a - slate-900 */

    --color-border-default: 51 65 85;     /* #334155 - slate-700 */
    --color-border-muted: 30 41 59;       /* #1e293b - slate-800 */

    --color-accent-fg: 129 140 248;       /* #818cf8 - indigo-400 */
    --color-accent-emphasis: 99 102 241;   /* #6366f1 - indigo-500 */
    --color-accent-emphasis-hover: 129 140 248; /* #818cf8 - indigo-400 */

    --color-success-emphasis: 34 197 94;   /* #22c55e - green-500 */
    --color-success-emphasis-hover: 74 222 128; /* #4ade80 - green-400 */
    --color-success-fg: 74 222 128;        /* #4ade80 - green-400 */
    --color-success-subtle: 20 83 45;      /* #14532d - green-900 */

    --color-danger-fg: 248 113 113;       /* #f87171 - red-400 */
    --color-danger-subtle: 69 10 10;      /* #450a0a - red-950 */

    --color-attention-fg: 251 191 36;     /* #fbbf24 - amber-400 */
    --color-attention-subtle: 69 26 3;    /* #451a03 - amber-950 */

    --color-neutral-muted: 100 116 139;    /* #64748b - slate-500 */

    --color-header-bg: 2 6 23;            /* #020617 - slate-950 (almost black) */
    --color-header-fg: 241 245 249;       /* #f1f5f9 - slate-100 */
  }
}

body {
  font-family: 'Montserrat Variable', sans-serif;
  background: rgb(var(--color-canvas-default));
  color: rgb(var(--color-fg-default));
}

textarea {
  field-sizing: content;
}

/* Custom gradient and animation utilities */
@layer utilities {
  .text-shadow-glow {
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 255, 255, 0.4);
  }
  
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
  
  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient 4s ease infinite;
  }
  
  .animate-glow {
    animation: glow 2s ease-in-out infinite alternate;
  }
  
  .animate-shimmer {
    animation: shimmer 2s linear infinite;
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-15px);
  }
}

@keyframes gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes glow {
  from {
    text-shadow: 0 0 20px rgba(99, 102, 241, 0.5), 0 0 30px rgba(99, 102, 241, 0.3), 0 0 40px rgba(99, 102, 241, 0.2);
  }
  to {
    text-shadow: 0 0 30px rgba(99, 102, 241, 0.8), 0 0 40px rgba(99, 102, 241, 0.5), 0 0 50px rgba(99, 102, 241, 0.3);
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Highlight.js dark theme override */
.dark .hljs {
  background: #282c34 !important;
  color: #abb2bf !important;
}

.dark .hljs-comment,
.dark .hljs-quote {
  color: #5c6370 !important;
  font-style: italic;
}

.dark .hljs-doctag,
.dark .hljs-keyword,
.dark .hljs-formula {
  color: #c678dd !important;
}

.dark .hljs-section,
.dark .hljs-name,
.dark .hljs-selector-tag,
.dark .hljs-deletion,
.dark .hljs-subst {
  color: #e06c75 !important;
}

.dark .hljs-literal {
  color: #56b6c2 !important;
}

.dark .hljs-string,
.dark .hljs-regexp,
.dark .hljs-addition,
.dark .hljs-attribute,
.dark .hljs-meta-string {
  color: #98c379 !important;
}

.dark .hljs-built_in,
.dark .hljs-class .hljs-title {
  color: #e6c07b !important;
}

.dark .hljs-attr,
.dark .hljs-variable,
.dark .hljs-template-variable,
.dark .hljs-type,
.dark .hljs-selector-class,
.dark .hljs-selector-attr,
.dark .hljs-selector-pseudo,
.dark .hljs-number {
  color: #d19a66 !important;
}

.dark .hljs-symbol,
.dark .hljs-bullet,
.dark .hljs-link,
.dark .hljs-meta,
.dark .hljs-selector-id,
.dark .hljs-title {
  color: #61aeee !important;
}

.dark .hljs-emphasis {
  font-style: italic;
}

.dark .hljs-strong {
  font-weight: bold;
}

.dark .hljs-link {
  text-decoration: underline;
}